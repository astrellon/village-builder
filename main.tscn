[gd_scene load_steps=42 format=3 uid="uid://l388sbifpguy"]

[ext_resource type="Script" uid="uid://dkmvsng6gd63s" path="res://scripts/terrain_render.gd" id="1_lquwl"]
[ext_resource type="Material" uid="uid://bex41odk5pf6u" path="res://materials/terrain_material.tres" id="2_w48qg"]
[ext_resource type="Script" uid="uid://cmn1kiv4rybeu" path="res://scripts/editor_controller.gd" id="4_1bvp3"]
[ext_resource type="Script" uid="uid://b640bmyfflwr3" path="res://scripts/terrain_brush/terrain_brush_shape_rectangle.gd" id="4_2cqfq"]
[ext_resource type="Script" uid="uid://dcr04jxmwmvln" path="res://scripts/terrain_brush/terrain_brush_shape_circle.gd" id="4_4c57u"]
[ext_resource type="Script" uid="uid://sjr8ynqsa5aj" path="res://scripts/editor_tools/editor_camera_orbit.gd" id="5_efxa6"]
[ext_resource type="Script" uid="uid://csjccrhj5wnx7" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_3d.gd" id="6_272bh"]
[ext_resource type="Script" uid="uid://dpyeg65qnyogg" path="res://scripts/editor_tools/editor_brush_types.gd" id="6_ycdy4"]
[ext_resource type="Script" uid="uid://8umksf8e80fw" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="7_5vw27"]
[ext_resource type="Script" uid="uid://dbnltenqsar27" path="res://scripts/editor_tools/editor_brush_heights.gd" id="7_w48qg"]
[ext_resource type="Script" uid="uid://b8hhnqsugykly" path="res://addons/phantom_camera/scripts/resources/camera_3d_resource.gd" id="8_5vw27"]
[ext_resource type="Script" uid="uid://bd046eokvcnu2" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="8_kek77"]
[ext_resource type="Material" uid="uid://d24h4abx6plu0" path="res://materials/terrain_circle_shape.tres" id="8_vivmo"]
[ext_resource type="Script" uid="uid://dus7cqshingla" path="res://scripts/camera_target.gd" id="9_kek77"]
[ext_resource type="Script" uid="uid://vv2knc54s0o7" path="res://scripts/terrain_manager.gd" id="10_4c57u"]
[ext_resource type="Material" uid="uid://lfi88l8g8hb0" path="res://materials/terrain_rectangle_shape.tres" id="10_074og"]
[ext_resource type="Script" uid="uid://cn7ma8c5m8vhw" path="res://scripts/editor_ui/change_editor_tool.gd" id="14_w48qg"]
[ext_resource type="Script" uid="uid://dys4uf87b5u7r" path="res://scripts/editor_ui/change_brush_circle_shape.gd" id="16_2cqfq"]
[ext_resource type="Script" uid="uid://b5htcmblb0woe" path="res://scripts/editor_ui/change_brush_rectangle_shape.gd" id="19_cegan"]
[ext_resource type="PackedScene" uid="uid://dgya1103qm1cx" path="res://scenes/editor_ui/editor_label.tscn" id="20_82xsv"]

[sub_resource type="Curve" id="Curve_yaehf"]
_data = [Vector2(0, 0), 0.0, 1.0, 0, 1, Vector2(1, 1), 1.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="Resource" id="Resource_074og"]
script = ExtResource("4_4c57u")
radius = 2.0
curve = SubResource("Curve_yaehf")
metadata/_custom_type_script = "uid://dcr04jxmwmvln"

[sub_resource type="Curve" id="Curve_cegan"]
_data = [Vector2(0, 0), 0.0, 1.0, 0, 1, Vector2(1, 1), 1.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="Resource" id="Resource_82xsv"]
script = ExtResource("4_2cqfq")
half_size = Vector2(2, 2)
curve = SubResource("Curve_cegan")
metadata/_custom_type_script = "uid://b640bmyfflwr3"

[sub_resource type="Resource" id="Resource_ycdy4"]
script = ExtResource("5_efxa6")
speed = 0.1
metadata/_custom_type_script = "uid://sjr8ynqsa5aj"

[sub_resource type="Resource" id="Resource_vivmo"]
script = ExtResource("6_ycdy4")
metadata/_custom_type_script = "uid://dpyeg65qnyogg"

[sub_resource type="Resource" id="Resource_2cqfq"]
script = ExtResource("7_w48qg")
metadata/_custom_type_script = "uid://dbnltenqsar27"

[sub_resource type="Resource" id="Resource_kek77"]
script = ExtResource("7_5vw27")

[sub_resource type="Resource" id="Resource_4c57u"]
script = ExtResource("8_5vw27")
metadata/_custom_type_script = "uid://b8hhnqsugykly"

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_272bh"]

[sub_resource type="Sky" id="Sky_5vw27"]
sky_material = SubResource("ProceduralSkyMaterial_272bh")

[sub_resource type="Environment" id="Environment_kek77"]
background_mode = 2
sky = SubResource("Sky_5vw27")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lquwl"]

[sub_resource type="TorusMesh" id="TorusMesh_0xm2m"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_efxa6"]
frequency = 0.0341

[sub_resource type="Curve" id="Curve_82xsv"]
_data = [Vector2(0, 0), 0.0, 1.0, 0, 1, Vector2(1, 1), 1.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_074og"]
_data = [Vector2(0, 0), 0.0, 3.514608, 0, 0, Vector2(1, 1), 0.1164741, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_d13ii"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 1, Vector2(1, 1), 0.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_getpj"]
_data = [Vector2(0, 0), 0.0, 1.0, 0, 1, Vector2(1, 1), 1.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_ryguw"]
_data = [Vector2(0, 0), 0.0, 3.514608, 0, 0, Vector2(1, 1), 0.1164741, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_1u8w0"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 1, Vector2(1, 1), 0.0, 0.0, 1, 0]
point_count = 2

[node name="Main" type="Node3D"]

[node name="TerrainRender" type="Node3D" parent="." node_paths=PackedStringArray("terrain_manager")]
script = ExtResource("1_lquwl")
material = ExtResource("2_w48qg")
terrain_manager = NodePath("../TerrainManager")
metadata/_custom_type_script = "uid://dkmvsng6gd63s"

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.16730219, -0.58064175, 0.7967842, 0, 0.8081749, 0.5889425, -0.98590565, 0.09853137, -0.13520943, 0, 0, 0)
shadow_enabled = true

[node name="EditorController" type="Node3D" parent="." node_paths=PackedStringArray("follow", "camera", "phantom_camera", "terrain_manager")]
script = ExtResource("4_1bvp3")
follow = NodePath("../CameraTarget")
camera = NodePath("../Camera3D")
phantom_camera = NodePath("../PhantomCamera3D")
terrain_manager = NodePath("../TerrainManager")
terrain_brush_circle = SubResource("Resource_074og")
terrain_brush_rectangle = SubResource("Resource_82xsv")
orbit_camera = SubResource("Resource_ycdy4")
brush_types_tool = SubResource("Resource_vivmo")
brush_heights_tool = SubResource("Resource_2cqfq")
terrain_material = ExtResource("2_w48qg")
terrain_brush_circle_material = ExtResource("8_vivmo")
terrain_brush_rectangle_material = ExtResource("10_074og")

[node name="PhantomCamera3D" type="Node3D" parent="." node_paths=PackedStringArray("follow_target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5730832, 5.59)
script = ExtResource("6_272bh")
priority = 1
follow_mode = 6
follow_target = NodePath("../CameraTarget/MeshInstance3D")
tween_resource = SubResource("Resource_kek77")
camera_3d_resource = SubResource("Resource_4c57u")
follow_damping = true
follow_damping_value = Vector3(0.2, 0.2, 0.2)
follow_distance = 5.59
spring_length = 5.59
collision_mask = 0
metadata/_custom_type_script = "uid://csjccrhj5wnx7"

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_kek77")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5730832, 5.59)

[node name="PhantomCameraHost" type="Node" parent="Camera3D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("8_kek77")
metadata/_custom_type_script = "uid://bd046eokvcnu2"

[node name="CameraTarget" type="Node3D" parent="." node_paths=PackedStringArray("camera")]
script = ExtResource("9_kek77")
camera = NodePath("../PhantomCamera3D")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CameraTarget"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5730832, 0)
material_override = SubResource("StandardMaterial3D_lquwl")
mesh = SubResource("TorusMesh_0xm2m")
skeleton = NodePath("../..")

[node name="TerrainManager" type="Node" parent="."]
script = ExtResource("10_4c57u")
noise = SubResource("FastNoiseLite_efxa6")

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 164.0
offset_bottom = 86.0

[node name="HBoxContainer" type="HBoxContainer" parent="Control"]
layout_mode = 0
offset_left = 12.0
offset_top = 12.0
offset_right = 189.0
offset_bottom = 52.0

[node name="Orbit" type="Button" parent="Control/HBoxContainer"]
layout_mode = 2
toggle_mode = true
text = "Orbit"
script = ExtResource("14_w48qg")

[node name="Types" type="Button" parent="Control/HBoxContainer"]
layout_mode = 2
toggle_mode = true
text = "Types"
script = ExtResource("14_w48qg")
tool = 1

[node name="Heights" type="Button" parent="Control/HBoxContainer"]
layout_mode = 2
toggle_mode = true
text = "Heights"
script = ExtResource("14_w48qg")
tool = 2

[node name="VSeparator" type="VSeparator" parent="Control/HBoxContainer"]
layout_mode = 2

[node name="Soft Circle" type="Button" parent="Control/HBoxContainer"]
layout_mode = 2
text = "Soft Circle"
script = ExtResource("16_2cqfq")
curve = SubResource("Curve_82xsv")

[node name="Harsh Circle" type="Button" parent="Control/HBoxContainer"]
layout_mode = 2
text = "Harsh Circle"
script = ExtResource("16_2cqfq")
curve = SubResource("Curve_074og")

[node name="Hard Circle" type="Button" parent="Control/HBoxContainer"]
layout_mode = 2
text = "Hard Circle"
script = ExtResource("16_2cqfq")
curve = SubResource("Curve_d13ii")

[node name="Soft Box" type="Button" parent="Control/HBoxContainer"]
layout_mode = 2
text = "Soft Box"
script = ExtResource("19_cegan")
curve = SubResource("Curve_getpj")

[node name="Harsh Box" type="Button" parent="Control/HBoxContainer"]
layout_mode = 2
text = "Harsh Box"
script = ExtResource("19_cegan")
curve = SubResource("Curve_ryguw")

[node name="Hard Box" type="Button" parent="Control/HBoxContainer"]
layout_mode = 2
text = "Hard Box"
script = ExtResource("19_cegan")
curve = SubResource("Curve_1u8w0")

[node name="VSeparator2" type="VSeparator" parent="Control/HBoxContainer"]
layout_mode = 2

[node name="CircleParams" type="HBoxContainer" parent="Control/HBoxContainer"]
layout_mode = 2

[node name="Radius" parent="Control/HBoxContainer/CircleParams" instance=ExtResource("20_82xsv")]
layout_mode = 2

[node name="BoxParams" type="HBoxContainer" parent="Control/HBoxContainer"]
layout_mode = 2

[node name="SizeX" parent="Control/HBoxContainer/BoxParams" instance=ExtResource("20_82xsv")]
layout_mode = 2
parameter = 2

[node name="Label" parent="Control/HBoxContainer/BoxParams/SizeX" index="0"]
text = "Size X:"

[node name="SizeY" parent="Control/HBoxContainer/BoxParams" instance=ExtResource("20_82xsv")]
layout_mode = 2
parameter = 3

[node name="Label" parent="Control/HBoxContainer/BoxParams/SizeY" index="0"]
text = "Size Y:"

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 3.7993758, 0.05845642)
material_override = ExtResource("2_w48qg")
material_overlay = ExtResource("8_vivmo")

[editable path="Control/HBoxContainer/CircleParams/Radius"]
[editable path="Control/HBoxContainer/BoxParams/SizeX"]
[editable path="Control/HBoxContainer/BoxParams/SizeY"]
